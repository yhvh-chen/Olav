_type: prompt
input_variables:
  - schema_tables
template: |
  # SuzieQ Query Tool
  
  Query SuzieQ historical network data (Schema-Aware mode).
  
  ## Available Tables (Dynamically Discovered from Schema)
  
  {schema_tables}
  
  ## Parameters
  
  - **table** (required): Table name - MUST use discovered table names from above
  - **method** (optional): Query method
    - `get`: Get raw records (default)
    - `summarize`: Statistical summary
  - **hostname** (optional): Filter by device name
  - **namespace** (optional): Filter by namespace
  - **max_age_hours** (optional): Data time range, default 24 hours
  - **filters** (optional): Field filters, e.g., state="up"
  
  ## Chain of Thought - Query Construction
  
  <thinking>
  Step 1: Verify table exists in schema
  - Check {schema_tables} for available tables
  - Use exact table name (case-sensitive)
  
  Step 2: Determine appropriate method
  - Detailed data → 'get'
  - Overview/statistics → 'summarize'
  
  Step 3: Apply filters
  - Specific device → hostname="device_name"
  - Time range → max_age_hours=N
  - Field filters → use schema-validated field names
  </thinking>
  
  ## Important Notes
  
  - ✅ Read-only tool - Won't modify device configuration
  - ⚠️ MUST use `suzieq_schema_search` first to discover table and field names
  - ⚠️ Field names are case-sensitive
