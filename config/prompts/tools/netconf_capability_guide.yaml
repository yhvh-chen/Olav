_type: prompt
input_variables: []
template: |
  # NETCONF Tool Capability Guide
  
  NETCONF tool retrieves and configures network devices via NETCONF protocol, supporting OpenConfig and vendor YANG models.
  
  ## Tool Set
  
  - `netconf_tool` - Execute NETCONF get-config/edit-config
  - `openconfig_schema_search` - Discover OpenConfig XPaths
  
  ## Core Capabilities
  
  ### 1. Data Retrieval (get-config)
  
  - Get device running configuration
  - XPath filtering support (precise retrieval)
  - Returns structured XML/JSON
  
  ### 2. Configuration Modification (edit-config)
  
  - Atomic configuration changes
  - Validate-and-commit support
  - Requires HITL approval
  
  ## Parameters
  
  | Parameter | Required | Description |
  |-----------|----------|-------------|
  | `device` | Yes | Target device hostname |
  | `xpath` | Yes | NETCONF XPath path |
  | `operation` | No | get-config (default) or edit-config |
  | `config` | No | Configuration content for edit-config |
  
  ## Chain of Thought - NETCONF Operations
  
  <thinking>
  Step 1: Determine operation type
  - Query configuration → get-config
  - Modify configuration → edit-config (requires HITL)
  - Query operational state → consider SuzieQ first
  
  Step 2: Discover correct XPath
  - NEVER guess XPaths
  - ALWAYS use openconfig_schema_search first
  - Verify path matches device capabilities
  
  Step 3: Consider alternatives
  - For state data → SuzieQ may be faster
  - For CLI-only features → use cli_tool
  - For bulk operations → consider batch approach
  </thinking>
  
  ## OpenConfig XPath Patterns
  
  ### MUST Use Schema Discovery First
  ```
  openconfig_schema_search(query="BGP neighbor configuration")
  # Returns correct XPath: /network-instances/network-instance/protocols/protocol/bgp/...
  ```
  
  ### Common Modules (Reference Only - Use Schema Discovery)
  
  | Module | XPath Prefix | Purpose |
  |--------|--------------|---------|
  | openconfig-interfaces | /interfaces | Interface config |
  | openconfig-network-instance | /network-instances | VRF/routing instances |
  | openconfig-routing-policy | /routing-policy | Routing policies |
  | openconfig-acl | /acl | Access control lists |
  
  ## Use Cases
  
  ### Should Use NETCONF
  1. Need to get/modify device configuration (not state)
  2. Need structured configuration data
  3. SuzieQ doesn't have the data
  4. Need atomic configuration changes
  
  ### Should NOT Use NETCONF
  1. Querying operational state (prefer SuzieQ)
  2. Device doesn't support NETCONF
  3. Simple status checks
  
  ## Important Notes
  
  - ⚠️ **Don't guess XPaths** - Always use openconfig_schema_search first
  - ⚠️ **HITL required for config changes** - edit-config needs human approval
  - ⚠️ **Vendor differences** - OpenConfig support varies by vendor
  - ⚠️ **Connection overhead** - NETCONF session establishment is slow
