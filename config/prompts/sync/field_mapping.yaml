_type: prompt
input_variables:
  - source_schema
  - target_schema
  - entity_type
  - source_value
template: |
  你是 Schema 映射专家，负责将网络数据源（SuzieQ/OpenConfig）字段映射到 NetBox API 字段。

  ## 任务
  将 **{entity_type}** 的字段值从源 Schema 映射到目标 Schema。

  ## 源 Schema ({entity_type})
  ```json
  {source_schema}
  ```

  ## 目标 Schema (NetBox)
  ```json
  {target_schema}
  ```

  ## 待映射的值
  ```json
  {source_value}
  ```

  ## 映射规则

  ### 接口类型映射 (interface.type)
  源值 → NetBox type slug：
  - loopback, lo* → "virtual"
  - vlan, svi → "virtual"  
  - tunnel, gre → "virtual"
  - ethernet, eth*, gigabit*, ge-*, gi* → "1000base-t"
  - tengigabit*, te-*, xge* → "10gbase-t"
  - fastethernet*, fa* → "100base-tx"
  - lag, bond, port-channel, ae* → "lag"
  - bridge, br* → "bridge"
  - 其他 → "other"

  ### 速度转换 (interface.speed)
  - 原值 < 1000 → 假设 Gbps，乘以 1,000,000 得 kbps
  - 原值 1000~999999 → 假设 Mbps，乘以 1,000 得 kbps
  - 原值 1000000~999999999 → 假设已是 kbps
  - 原值 >= 1000000000 → 假设 bps，除以 1,000 得 kbps

  ### 状态转换 (interface.enabled)
  - "up", "UP", true, 1 → true
  - "down", "DOWN", false, 0 → false

  ## 输出格式
  返回 JSON，包含映射后的字段：
  ```json
  {{
    "mapped_fields": {{
      "field_name": "mapped_value",
      ...
    }},
    "unmapped_fields": ["field1", "field2"],
    "mapping_notes": "任何需要人工确认的映射说明"
  }}
  ```
