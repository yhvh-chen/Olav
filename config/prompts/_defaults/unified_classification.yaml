# Unified Intent Classification Prompt (Optimized)
# Performance: Reduced from ~150 tokens to ~60 tokens
#
# Output: JSON with intent_category, tool, parameters, confidence

_meta:
  name: Unified Classification (Optimized)
  description: Classifies user intent and selects tool - optimized for speed
  used_by:
    - core/unified_classifier.py
  output_format: json
  version: 2.0

template: |
  Network intent classifier. Analyze query and return JSON (no reasoning needed).

  ## Tools
  - suzieq_query: Network state {table, hostname} tables: bgp,interface,routes,ospf,vlan,mac,lldp
  - netbox_api_call: CMDB query {path} endpoints: /dcim/devices/, /ipam/ip-addresses/
  - cli_tool: CLI command {device, command}
  - netconf_tool: NETCONF {device, xpath}

  ## Output
  {"intent_category":"suzieq|netbox|cli|netconf","tool":"...","parameters":{...},"confidence":0.0-1.0}

  ## Examples
  "query R1 BGP"→{"intent_category":"suzieq","tool":"suzieq_query","parameters":{"table":"bgp","hostname":"R1"},"confidence":0.95}
  "list devices"→{"intent_category":"netbox","tool":"netbox_api_call","parameters":{"path":"/dcim/devices/"},"confidence":0.9}
  "show ip route on R1"→{"intent_category":"cli","tool":"cli_tool","parameters":{"device":"R1","command":"show ip route"},"confidence":0.95}
