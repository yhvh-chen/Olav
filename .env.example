# OLAV minimal .env example
# Principle: keep ONLY secrets and environment-specific endpoints here.
# Non-sensitive defaults live in src/olav/core/settings.py (EnvSettings).

# =============================================================================
# SECRETS (REQUIRED in production)
# =============================================================================

# --- LLM API Key (for chat models via OpenRouter)
LLM_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# --- Embedding API Key (OpenAI direct - OpenRouter doesn't support embeddings)
# Required for Agentic RAG vector search. Get from https://platform.openai.com
EMBEDDING_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# --- Vision Model API Key (optional, can reuse LLM_API_KEY if same provider)
# Required for network diagram analysis. Leave empty to use LLM_API_KEY.
# VISION_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# --- NetBox API Token (secret)
NETBOX_TOKEN=replace-with-your-netbox-token

# --- Device credentials (secret)
DEVICE_USERNAME=admin
DEVICE_PASSWORD=change_me

# --- JWT Secret Key (secret - MUST change in production)
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-chars

# --- WebGUI Authentication (Gradio built-in auth)
UI_USERNAME=admin
UI_PASSWORD=olav123

# =============================================================================
# MODEL CONFIGURATION (optional - defaults in src/olav/core/settings.py)
# =============================================================================

# --- LLM Model (via OpenRouter)
# LLM_BASE_URL=https://openrouter.ai/api/v1
# LLM_MODEL_NAME=x-ai/grok-4.1-fast:free

# --- Embedding Model (OpenAI direct or Ollama)
# EMBEDDING_PROVIDER=openai            # openai or ollama
# EMBEDDING_BASE_URL=https://api.openai.com/v1
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSIONS=1536

# --- Vision Model (for network diagram analysis)
# VISION_PROVIDER=openai               # openai or ollama
# VISION_BASE_URL=https://openrouter.ai/api/v1
# VISION_MODEL=openai/gpt-4o

# =============================================================================
# ENDPOINTS (optional - auto-resolved based on environment)
# =============================================================================

# --- NetBox URL
# NETBOX_URL=https://netbox.example.com

# --- Infrastructure endpoints (auto-built if omitted)
# POSTGRES_URI=postgresql://olav:OlavPG123!@localhost:55432/olav
# OPENSEARCH_URL=http://localhost:9200
# REDIS_URL=redis://localhost:6379

# =============================================================================
# NON-SENSITIVE CONFIGURATION (defaults in src/olav/core/settings.py)
# Override here only for Docker or special environments
# =============================================================================

# --- Server Configuration
# SERVER_HOST=0.0.0.0         # Default: 0.0.0.0
# SERVER_PORT=8000            # Default: 8000

# --- JWT Configuration (non-secret parts)
# JWT_ALGORITHM=HS256         # Default: HS256
# JWT_EXPIRATION_MINUTES=60   # Default: 60

# --- Feature Flags
# EXPERT_MODE=false           # Default: false (enable Deep Dive)
# USE_DYNAMIC_ROUTER=true     # Default: true (semantic intent routing)
# STREAM_STATELESS=true       # Default: true (LangServe compatibility)

# --- Collector/Sandbox Configuration
# COLLECTOR_FORCE_ENABLE=false       # Default: false
# COLLECTOR_MIN_PRIVILEGE=15         # Default: 15
# COLLECTOR_BLACKLIST_FILE=command_blacklist.txt  # Default
# COLLECTOR_CAPTURE_DIFF=true        # Default: true

# --- Agentic RAG Configuration
# ENABLE_AGENTIC_RAG=true            # Default: true (FastPath memory capture)
# ENABLE_DEEP_DIVE_MEMORY=true       # Default: true (Deep Dive report auto-save)

# =============================================================================
# ETL & INDEX CONFIGURATION
# =============================================================================

# --- Force Reset Indexes (use in Docker init container)
# OLAV_ETL_FORCE_RESET=false         # Default: false (skip existing indexes)
                                     # Set to true to delete and recreate all indexes

# --- Individual Index Control (optional, override global FORCE_RESET)
# OLAV_ETL_FORCE_SUZIEQ=false        # Force reset suzieq-schema index
# OLAV_ETL_FORCE_OPENCONFIG=false    # Force reset openconfig-schema index
# OLAV_ETL_FORCE_NETBOX=false        # Force reset netbox-schema index
# OLAV_ETL_FORCE_EPISODIC=false      # Force reset olav-episodic-memory index

# --- OpenConfig YANG Repository Path (for full YANG parsing)
# OPENCONFIG_DIR=/path/to/openconfig-public  # Default: uses stub data if not set

# =============================================================================
# SUZIEQ POLLER TUNING (for large networks)
# =============================================================================

# --- Polling Interval (seconds)
# SUZIEQ_POLLER_PERIOD=60           # Default: 60 (increase for 200+ devices)
#                                   # Recommended: 60 (1-50 devices), 120 (50-200), 300 (500+)

# --- Timeout Settings
# SUZIEQ_CONNECT_TIMEOUT=30         # Default: 30 (SSH/API connect timeout)
# SUZIEQ_CMD_TIMEOUT=60             # Default: 60 (per-command execution timeout)

# --- Parallel Execution
# SUZIEQ_MAX_CMD_PIPELINE=10        # Default: 10 (commands pipelined per device)

# --- Chunked Polling (critical for large inventories)
# SUZIEQ_CHUNKED_POLL=true          # Default: true (process devices in chunks)
# SUZIEQ_CHUNK_SIZE=25              # Default: 25 (devices per chunk)
#                                   # Increase memory if using larger chunks

# --- Inventory Refresh
# SUZIEQ_INVENTORY_UPDATE_PERIOD=3600  # Default: 3600 (1 hour)

# --- Coalescer (data compaction)
# SUZIEQ_COALESCER_PERIOD=1h        # Default: 1h

